{% extends "base.html" %}

{% block title %}Profil Saya - GameStore{% endblock %}

{% block content %}
<!-- Hero Profile Section -->
<section class="hero-profile py-5 position-relative overflow-hidden">
    <div class="container position-relative z-1">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <div class="hero-content">
                    <div class="d-inline-flex align-items-center bg-gradient-primary bg-opacity-10 px-3 py-1 rounded-pill mb-3">
                        <span class="hero-badge me-2">ðŸ‘¤</span>
                        <small class="text-primary fw-semibold">Profil Pengguna</small>
                    </div>
                    <h1 class="hero-title text-white mb-3 fw-bold">
                        Profil <span class="text-gradient-primary">{{ current_user.username }}</span>
                    </h1>
                    <p class="hero-subtitle text-light mb-4">
                        Kelola akun Anda, lihat riwayat pesanan, dan pantau koleksi game Anda di satu tempat.
                    </p>
                </div>
            </div>
            <!-- <div class="col-lg-4">
                <div class="profile-visual position-relative">
                    <div class="floating-profile">
                        <div class="profile-icon" style="background: linear-gradient(135deg, #667eea, #764ba2); top: 20%; left: 10%; animation-delay: 0s;">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-icon" style="background: linear-gradient(135deg, #17a2b8, #6f42c1); top: 60%; right: 10%; animation-delay: 1s;">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="profile-icon" style="background: linear-gradient(135deg, #28a745, #20c997); bottom: 20%; left: 40%; animation-delay: 2s;">
                            <i class="fas fa-bookmark"></i>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
    
    <!-- Animated Background -->
    <div class="profile-hero-bg">
        <div class="profile-circle circle-1"></div>
        <div class="profile-circle circle-2"></div>
        <div class="profile-circle circle-3"></div>
    </div>
</section>

<!-- Profile Content -->
<section class="py-5 bg-dark">
    <div class="container">
        <div class="row g-4">
            <!-- Sidebar Profile Info -->
            <div class="col-lg-4">
                <div class="sticky-sidebar-profile">
                    <!-- User Profile Card -->
                    <div class="card border-0 shadow-lg rounded-4 overflow-hidden mb-4">
                        <div class="card-header border-0 py-3 position-relative overflow-hidden">
                            <div class="profile-header-bg"></div>
                            <div class="position-relative z-1">
                                <div class="d-flex align-items-center">
                                    <div class="icon-wrapper bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                        <i class="fas fa-user-circle text-white"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-0 text-white fw-bold">Informasi Profil</h5>
                                        <small class="text-white text-opacity-75">Detail akun Anda</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-body p-4">
                            <!-- User Avatar -->
                            <div class="user-avatar-wrapper text-center mb-4">
                                <div class="avatar-circle mx-auto mb-3">
                                    <div class="avatar-content">
                                        <i class="fas fa-user text-white fs-1"></i>
                                    </div>
                                    {% if current_user.is_admin %}
                                    <span class="admin-badge">
                                        <i class="fas fa-crown"></i>
                                    </span>
                                    {% endif %}
                                </div>
                                <h4 class="text-white fw-bold mb-1">{{ current_user.username }}</h4>
                                <p class="text-muted mb-3">{{ current_user.email }}</p>
                                
                                {% if current_user.is_admin %}
                                <span class="badge bg-warning text-dark rounded-pill px-3 py-2">
                                    <i class="fas fa-shield-alt me-2"></i>Administrator
                                </span>
                                {% else %}
                                <span class="badge bg-primary rounded-pill px-3 py-2">
                                    <i class="fas fa-user me-2"></i>Member
                                </span>
                                {% endif %}
                            </div>
                            
                            <!-- User Stats -->
                            <div class="user-stats-grid mb-4">
                                <div class="stat-card text-center p-3 rounded-3 bg-dark bg-opacity-25">
                                    <div class="stat-icon mb-2">
                                        <i class="fas fa-gamepad text-primary fs-4"></i>
                                    </div>
                                    <div class="stat-value text-primary fw-bold fs-4">{{ current_user.library|length }}</div>
                                    <div class="stat-label text-muted small">Game Dimiliki</div>
                                </div>
                                
                                <div class="stat-card text-center p-3 rounded-3 bg-dark bg-opacity-25">
                                    <div class="stat-icon mb-2">
                                        <i class="fas fa-shopping-cart text-success fs-4"></i>
                                    </div>
                                    <div class="stat-value text-success fw-bold fs-4">{{ orders|length }}</div>
                                    <div class="stat-label text-muted small">Total Pesanan</div>
                                </div>
                            </div>
                            
                            <!-- Quick Info -->
                            <div class="quick-info">
                                <div class="info-item d-flex align-items-center mb-3">
                                    <div class="info-icon me-3">
                                        <i class="fas fa-calendar-alt text-info"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="info-label text-muted small">Bergabung Sejak</div>
                                        <div class="info-value text-white fw-bold">
                                            {{ current_user.created_at.strftime('%d %B %Y') }}
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="info-item d-flex align-items-center">
                                    <div class="info-icon me-3">
                                        <i class="fas fa-user-shield text-success"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="info-label text-muted small">Status Akun</div>
                                        <div class="info-value text-white fw-bold">
                                            {% if current_user.is_admin %}
                                            Administrator
                                            {% else %}
                                            Member Terverifikasi
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions -->
                            <div class="quick-actions mt-4">
                                <h6 class="text-white mb-3 fw-bold">
                                    <i class="fas fa-bolt me-2"></i>Aksi Cepat
                                </h6>
                                <div class="d-grid gap-2">
                                    <a href="{{ url_for('main.library') }}" class="btn btn-outline-primary rounded-pill">
                                        <i class="fas fa-bookmark me-2"></i>Library Saya
                                    </a>
                                    <a href="{{ url_for('main.games') }}" class="btn btn-outline-success rounded-pill">
                                        <i class="fas fa-shopping-cart me-2"></i>Beli Game
                                    </a>
                                    <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger rounded-pill">
                                        <i class="fas fa-sign-out-alt me-2"></i>Keluar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Account Status Card -->
                    <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                        <div class="card-header border-0 py-3 position-relative overflow-hidden">
                            <div class="status-header-bg"></div>
                            <div class="position-relative z-1">
                                <div class="d-flex align-items-center">
                                    <div class="icon-wrapper bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                        <i class="fas fa-shield-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-0 text-white fw-bold">Status Akun</h5>
                                        <small class="text-white text-opacity-75">Keamanan & Aktivitas</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body p-4">
                            <div class="status-list">
                                <div class="status-item d-flex align-items-center mb-3">
                                    <div class="status-indicator status-active me-3"></div>
                                    <div class="flex-grow-1">
                                        <div class="text-white fw-bold small">Akun Aktif</div>
                                        <div class="text-success smaller">Terverifikasi dan aman</div>
                                    </div>
                                </div>
                                
                                <div class="status-item d-flex align-items-center mb-3">
                                    <div class="status-indicator status-active me-3"></div>
                                    <div class="flex-grow-1">
                                        <div class="text-white fw-bold small">Email Terverifikasi</div>
                                        <div class="text-success smaller">{{ current_user.email }}</div>
                                    </div>
                                </div>
                                
                                <div class="status-item d-flex align-items-center">
                                    <div class="status-indicator status-active me-3"></div>
                                    <div class="flex-grow-1">
                                        <div class="text-white fw-bold small">Pembayaran Aman</div>
                                        <div class="text-success smaller">Semua metode tersedia</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content - Recent Orders -->
            <div class="col-lg-8">
                <!-- Orders Header -->
                <div class="orders-header mb-5">
                    <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
                        <div class="mb-3 mb-md-0">
                            <h2 class="orders-title fw-bold text-white mb-2">
                                <span class="text-gradient-primary">Riwayat</span> Pesanan
                            </h2>
                            <div class="orders-meta d-flex align-items-center">
                                <span class="text-muted me-3">
                                    <i class="fas fa-receipt me-1"></i>
                                    {{ orders|length }} pesanan ditemukan
                                </span>
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <a href="{{ url_for('main.games') }}" class="btn btn-primary rounded-pill px-4">
                                <i class="fas fa-shopping-cart me-2"></i>Beli Game Baru
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Orders Table -->
                <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                    <div class="card-header border-0 py-3 position-relative overflow-hidden">
                        <div class="orders-header-bg"></div>
                        <div class="position-relative z-1">
                            <div class="d-flex align-items-center">
                                <div class="icon-wrapper bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                    <i class="fas fa-history text-white"></i>
                                </div>
                                <div>
                                    <h5 class="mb-0 text-white fw-bold">Pesanan Terbaru</h5>
                                    <small class="text-white text-opacity-75">5 pesanan terakhir</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-body p-4">
                        {% if orders %}
                        <div class="table-responsive">
                            <table class="table table-hover table-dark mb-0">
                                <thead>
                                    <tr class="border-secondary">
                                        <th class="ps-4">
                                            <span class="text-muted small">ID Pesanan</span>
                                        </th>
                                        <th>
                                            <span class="text-muted small">Jumlah</span>
                                        </th>
                                        <th>
                                            <span class="text-muted small">Status</span>
                                        </th>
                                        <th>
                                            <span class="text-muted small">Tanggal</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for order in orders %}
                                    <tr class="order-row border-secondary">
                                        <td class="ps-4">
                                            <div class="d-flex align-items-center">
                                                <div class="order-id-wrapper me-3">
                                                    <div class="order-icon">
                                                        <i class="fas fa-receipt text-primary"></i>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="text-white fw-bold small"><code>{{ order.id[:8] }}...</code></div>
                                                    <div class="text-muted smaller">{{ order.payment_method }}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="text-white fw-bold">Rp {{ "{:,.0f}".format(order.total_amount) }}</div>
                                        </td>
                                        <td>
                                            {% if order.status == 'paid' %}
                                            <span class="status-badge status-success rounded-pill px-3 py-1">
                                                <i class="fas fa-check-circle me-1"></i>{{ order.status|title }}
                                            </span>
                                            {% elif order.status == 'pending' %}
                                            <span class="status-badge status-pending rounded-pill px-3 py-1">
                                                <i class="fas fa-clock me-1"></i>{{ order.status|title }}
                                            </span>
                                            {% elif order.status == 'cancelled' %}
                                            <span class="status-badge status-cancelled rounded-pill px-3 py-1">
                                                <i class="fas fa-times-circle me-1"></i>{{ order.status|title }}
                                            </span>
                                            {% else %}
                                            <span class="status-badge status-other rounded-pill px-3 py-1">
                                                <i class="fas fa-info-circle me-1"></i>{{ order.status|title }}
                                            </span>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <div class="text-white fw-bold">{{ order.created_at.strftime('%d/%m/%Y') }}</div>
                                            <div class="text-muted smaller">{{ order.created_at.strftime('%H:%M') }}</div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        {% else %}
                        <!-- No Orders State -->
                        <div class="no-orders text-center py-5">
                            <div class="no-orders-icon mb-4">
                                <i class="fas fa-shopping-cart fa-5x text-muted"></i>
                            </div>
                            <h4 class="text-white fw-bold mb-3">Belum Ada Pesanan</h4>
                            <p class="text-muted mb-4">
                                Anda belum melakukan pembelian game. Mulai jelajahi koleksi game kami dan temukan favorit Anda!
                            </p>
                            <div class="d-flex justify-content-center gap-3">
                                <a href="{{ url_for('main.games') }}" class="btn btn-primary rounded-pill px-4">
                                    <i class="fas fa-gamepad me-2"></i>Jelajahi Game
                                </a>
                                <a href="{{ url_for('main.payment_instructions') }}" class="btn btn-outline-primary rounded-pill px-4">
                                    <i class="fas fa-question-circle me-2"></i>Cara Pembayaran
                                </a>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="row mt-4 g-4">
                    <div class="col-md-6">
                        <div class="card border-0 shadow-lg rounded-4 overflow-hidden h-100">
                            <div class="card-header border-0 py-3 position-relative overflow-hidden">
                                <div class="stats-header-bg-1"></div>
                                <div class="position-relative z-1">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-wrapper bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                            <i class="fas fa-chart-line text-white"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0 text-white fw-bold">Statistik Belanja</h5>
                                            <small class="text-white text-opacity-75">Total pengeluaran</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="spending-stats">
                                    <div class="spending-total mb-3">
                                        <div class="text-muted small">Total Belanja</div>
                                        <div class="text-white fw-bold fs-3">
                                            Rp {{ "{:,.0f}".format(orders|sum(attribute='total_amount')) }}
                                        </div>
                                    </div>
                                    <div class="spending-breakdown">
                                        <div class="breakdown-item d-flex justify-content-between mb-2">
                                            <span class="text-muted">Pesanan Berhasil</span>
                                            <span class="text-white fw-bold">
                                                {{ orders|selectattr('status', 'equalto', 'paid')|list|length }}
                                            </span>
                                        </div>
                                        <div class="breakdown-item d-flex justify-content-between mb-2">
                                            <span class="text-muted">Dalam Proses</span>
                                            <span class="text-white fw-bold">
                                                {{ orders|selectattr('status', 'equalto', 'pending')|list|length }}
                                            </span>
                                        </div>
                                        <div class="breakdown-item d-flex justify-content-between">
                                            <span class="text-muted">Dibatalkan</span>
                                            <span class="text-white fw-bold">
                                                {{ orders|selectattr('status', 'equalto', 'cancelled')|list|length }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card border-0 shadow-lg rounded-4 overflow-hidden h-100">
                            <div class="card-header border-0 py-3 position-relative overflow-hidden">
                                <div class="stats-header-bg-2"></div>
                                <div class="position-relative z-1">
                                    <div class="d-flex align-items-center">
                                        <div class="icon-wrapper bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                            <i class="fas fa-trophy text-white"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0 text-white fw-bold">Ringkasan Akun</h5>
                                            <small class="text-white text-opacity-75">Status dan statistik</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="achievements">
                                    <div class="achievement-item d-flex align-items-center mb-3">
                                        <div class="achievement-icon me-3">
                                            <div class="icon-wrapper-xs rounded-2 p-2 bg-primary bg-opacity-10">
                                                <i class="fas fa-gamepad text-primary"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <div class="text-white fw-bold small">Game Dimiliki</div>
                                                <div class="text-primary fw-bold">{{ current_user.library|length }}</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="achievement-item d-flex align-items-center mb-3">
                                        <div class="achievement-icon me-3">
                                            <div class="icon-wrapper-xs rounded-2 p-2 bg-success bg-opacity-10">
                                                <i class="fas fa-shopping-cart text-success"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <div class="text-white fw-bold small">Total Pesanan</div>
                                                <div class="text-success fw-bold">{{ orders|length }}</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="achievement-item d-flex align-items-center">
                                        <div class="achievement-icon me-3">
                                            <div class="icon-wrapper-xs rounded-2 p-2 bg-warning bg-opacity-10">
                                                <i class="fas fa-star text-warning"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <div class="text-white fw-bold small">Tingkat Keanggotaan</div>
                                                <div class="text-warning fw-bold">
                                                    {% if current_user.is_admin %}
                                                    Admin
                                                    {% else %}
                                                    Standard
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Profile Actions -->
<section class="py-5 bg-gradient-cta position-relative overflow-hidden">
    <div class="container position-relative z-1">
        <div class="row align-items-center">
            <div class="col-lg-8 mb-4 mb-lg-0">
                <h2 class="text-white fw-bold mb-3">
                    Butuh Bantuan dengan Akun Anda?
                </h2>
                <p class="text-light mb-0">
                    Tim support kami siap membantu Anda dengan pertanyaan apa pun terkait akun, pesanan, atau game.
                </p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <div class="d-flex flex-column flex-md-row gap-3 justify-content-lg-end">
                    <a href="{{ url_for('main.payment_instructions') }}" 
                       class="btn btn-outline-light btn-lg rounded-pill px-4">
                        <i class="fas fa-question-circle me-2"></i>FAQ & Bantuan
                    </a>
                    <a href="#" 
                       class="btn btn-light btn-lg rounded-pill px-4 shadow-lg"
                       onclick="alert('Hubungi support: support@gamestore.com')">
                        <i class="fas fa-headset me-2"></i>Hubungi Support
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Animated background elements -->
    <div class="cta-bg-elements">
        <div class="cta-circle cta-circle-1"></div>
        <div class="cta-circle cta-circle-2"></div>
        <div class="cta-circle cta-circle-3"></div>
    </div>
</section>

<style>
/* Profile Page Specific Styles */
:root {
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #17a2b8 0%, #6f42c1 100%);
    --gradient-warning: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
    --gradient-success: linear-gradient(135deg, #28a745 0%, #20c997 100%);
}

/* Hero Profile Section */
.hero-profile {
    background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
    position: relative;
    overflow: hidden;
}

.hero-profile::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(23, 162, 184, 0.1) 0%, transparent 50%);
}

.profile-hero-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.profile-circle {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    animation: float 6s ease-in-out infinite;
}

.profile-circle.circle-1 {
    width: 250px;
    height: 250px;
    top: -125px;
    right: -50px;
    animation-delay: 0s;
}

.profile-circle.circle-2 {
    width: 180px;
    height: 180px;
    bottom: -90px;
    left: -40px;
    animation-delay: 2s;
}

.profile-circle.circle-3 {
    width: 120px;
    height: 120px;
    top: 30%;
    right: 10%;
    animation-delay: 4s;
}

.floating-profile {
    position: relative;
    height: 300px;
    width: 300px;
    margin: 0 auto;
}

.profile-icon {
    position: absolute;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-20px) scale(1.05); }
}

.hero-title {
    font-size: 3rem;
    line-height: 1.2;
}

.hero-subtitle {
    font-size: 1.1rem;
    max-width: 500px;
}

.text-gradient-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Sticky Sidebar */
.sticky-sidebar-profile {
    position: sticky;
    top: 100px;
}

/* Header Backgrounds */
.profile-header-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-primary);
    opacity: 0.9;
}

.status-header-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-success);
    opacity: 0.9;
}

.orders-header-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-secondary);
    opacity: 0.9;
}

.stats-header-bg-1 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-primary);
    opacity: 0.9;
}

.stats-header-bg-2 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-warning);
    opacity: 0.9;
}

/* User Avatar */
.avatar-circle {
    position: relative;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: var(--gradient-primary);
    display: flex;
    align-items: center;
    justify-content: center;
}

.avatar-content {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
}

.admin-badge {
    position: absolute;
    bottom: 0;
    right: 0;
    background: #ffc107;
    color: #000;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid #1a1a2e;
}

/* User Stats Grid */
.user-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.stat-card {
    transition: all 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.stat-icon {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
}

/* Info Items */
.info-item {
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
}

.info-item:hover {
    background: rgba(102, 126, 234, 0.1);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateX(5px);
}

.info-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    font-size: 1.2rem;
}

/* Status Items */
.status-item {
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.status-active {
    background: #28a745;
    box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
}

/* Orders Header */
.orders-title {
    font-size: 2rem;
}

.orders-meta {
    font-size: 0.9rem;
}

/* Orders Table */
.table-dark {
    background: transparent;
}

.order-row {
    transition: all 0.3s ease;
}

.order-row:hover {
    background: rgba(255, 255, 255, 0.05) !important;
}

.order-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 10px;
}

/* Status Badges */
.status-badge {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-success {
    background: rgba(40, 167, 69, 0.2);
    color: #28a745;
    border: 1px solid rgba(40, 167, 69, 0.3);
}

.status-pending {
    background: rgba(255, 193, 7, 0.2);
    color: #ffc107;
    border: 1px solid rgba(255, 193, 7, 0.3);
}

.status-cancelled {
    background: rgba(220, 53, 69, 0.2);
    color: #dc3545;
    border: 1px solid rgba(220, 53, 69, 0.3);
}

.status-other {
    background: rgba(108, 117, 125, 0.2);
    color: #6c757d;
    border: 1px solid rgba(108, 117, 125, 0.3);
}

/* No Orders State */
.no-orders {
    padding: 3rem 1rem;
}

.no-orders-icon {
    opacity: 0.8;
}

/* Spending Stats */
.spending-total {
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.breakdown-item {
    padding: 0.5rem 0;
}

/* Achievements */
.achievement-item {
    padding: 1rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
}

.achievement-item:hover {
    background: rgba(255, 255, 255, 0.05);
    transform: translateX(5px);
}

.achievement-icon {
    flex-shrink: 0;
}

/* CTA Section */
.bg-gradient-cta {
    background: var(--gradient-primary);
    position: relative;
    overflow: hidden;
}

.bg-gradient-cta::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 50%);
}

.cta-bg-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.cta-circle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    animation: ctaFloat 8s ease-in-out infinite;
}

.cta-circle-1 {
    width: 150px;
    height: 150px;
    top: -75px;
    left: -75px;
    animation-delay: 0s;
}

.cta-circle-2 {
    width: 100px;
    height: 100px;
    bottom: -50px;
    right: 10%;
    animation-delay: 2s;
}

.cta-circle-3 {
    width: 80px;
    height: 80px;
    top: 30%;
    right: -40px;
    animation-delay: 4s;
}

@keyframes ctaFloat {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(10px, -10px) rotate(5deg); }
    66% { transform: translate(-5px, 5px) rotate(-5deg); }
}

/* Responsive Design */
@media (max-width: 1399.98px) {
    .hero-title {
        font-size: 2.5rem;
    }
}

@media (max-width: 1199.98px) {
    .user-stats-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 991.98px) {
    .hero-title {
        font-size: 2.2rem;
    }
    .sticky-sidebar-profile {
        position: static;
    }
    .orders-title {
        font-size: 1.8rem;
    }
}

@media (max-width: 767.98px) {
    .hero-title {
        font-size: 2rem;
    }
    .hero-subtitle {
        font-size: 1rem;
    }
    .orders-title {
        font-size: 1.5rem;
    }
    .table-responsive {
        font-size: 0.9rem;
    }
}

@media (max-width: 575.98px) {
    .hero-title {
        font-size: 1.8rem;
    }
    .avatar-circle {
        width: 100px;
        height: 100px;
    }
    .avatar-content {
        width: 80px;
        height: 80px;
    }
    .admin-badge {
        width: 25px;
        height: 25px;
        font-size: 0.8rem;
    }
}

/* Text Sizes */
.smaller {
    font-size: 0.75rem;
}

.icon-wrapper-xs {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('Profile page loaded');
    
    // Add animation to profile cards
    const profileCards = document.querySelectorAll('.card');
    profileCards.forEach((card, index) => {
        card.style.animationDelay = (index * 0.1) + 's';
        card.classList.add('animate-on-scroll');
    });
    
    // Intersection Observer for scroll animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animated');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    document.querySelectorAll('.animate-on-scroll').forEach(element => {
        observer.observe(element);
    });
    
    // Order row hover effects
    const orderRows = document.querySelectorAll('.order-row');
    orderRows.forEach(row => {
        row.addEventListener('mouseenter', function() {
            const orderIcon = this.querySelector('.order-icon');
            if (orderIcon) {
                orderIcon.style.transform = 'rotate(15deg) scale(1.1)';
            }
        });
        
        row.addEventListener('mouseleave', function() {
            const orderIcon = this.querySelector('.order-icon');
            if (orderIcon) {
                orderIcon.style.transform = 'rotate(0) scale(1)';
            }
        });
    });
    
    // Achievement item hover effects
    const achievementItems = document.querySelectorAll('.achievement-item');
    achievementItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            const icon = this.querySelector('.icon-wrapper-xs');
            if (icon) {
                icon.style.transform = 'rotate(15deg)';
            }
        });
        
        item.addEventListener('mouseleave', function() {
            const icon = this.querySelector('.icon-wrapper-xs');
            if (icon) {
                icon.style.transform = 'rotate(0)';
            }
        });
    });
    
    // Info item hover effects
    const infoItems = document.querySelectorAll('.info-item');
    infoItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            const icon = this.querySelector('.info-icon');
            if (icon) {
                icon.style.transform = 'scale(1.1)';
            }
        });
        
        item.addEventListener('mouseleave', function() {
            const icon = this.querySelector('.info-icon');
            if (icon) {
                icon.style.transform = 'scale(1)';
            }
        });
    });
    
    // Stat card hover effects
    const statCards = document.querySelectorAll('.stat-card');
    statCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            const icon = this.querySelector('.stat-icon');
            if (icon) {
                icon.style.transform = 'scale(1.1)';
            }
        });
        
        card.addEventListener('mouseleave', function() {
            const icon = this.querySelector('.stat-icon');
            if (icon) {
                icon.style.transform = 'scale(1)';
            }
        });
    });
    
    // Status badge animations
    const statusBadges = document.querySelectorAll('.status-badge');
    statusBadges.forEach(badge => {
        badge.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.05)';
        });
        
        badge.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
        });
    });
    
    // Parallax effect for hero section
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const heroSection = document.querySelector('.hero-profile');
        
        if (heroSection) {
            const parallaxValue = scrolled * 0.5;
            heroSection.style.backgroundPositionY = parallaxValue + 'px';
        }
    });
    
    // Add CSS for animations
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        
        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }
    `;
    document.head.appendChild(style);
});
</script>
{% endblock %}